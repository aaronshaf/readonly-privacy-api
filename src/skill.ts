export const SKILL_MD: string = "# readonly-privacy-api — Agent Skill Reference\n\nThis is a read-only proxy for the [Privacy.com](https://privacy.com) API, deployed as a Cloudflare Worker. It exposes virtual card and transaction data with sensitive fields stripped. Agents and bots can use this to read card and transaction information safely.\n\nBase URL: `https://your-worker.workers.dev`\n\n---\n\n## Authentication\n\nAll routes except `/healthz` and `/SKILL.md` require a bearer token:\n\n```\nAuthorization: Bearer <READONLY_PRIVACY_BEARER_TOKEN>\n```\n\nRequests without a valid token return `401 Unauthorized`.\n\n---\n\n## Routes\n\n### `GET /healthz`\nPublic. Returns service health status.\n\n**Response:**\n```json\n{ \"status\": \"ok\", \"service\": \"readonly-privacy-api\" }\n```\n\n---\n\n### `GET /SKILL.md`\nPublic. Returns this document as plain text Markdown.\n\n---\n\n### `GET /cards`\nList virtual cards. Sensitive fields (`pan`, `cvv`, expiry) are stripped.\n\n**Query parameters:**\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| `page_size` | integer (1–1000) | Number of results per page |\n| `starting_after` | UUID v4 | Cursor for pagination (token of last card seen) |\n| `begin` | date (`YYYY-MM-DD`) | Filter cards created on or after this date |\n| `end` | date (`YYYY-MM-DD`) | Filter cards created on or before this date |\n| `account_token` | UUID v4 | Filter by account |\n\n**Response:**\n```json\n{\n  \"data\": [\n    {\n      \"token\": \"7ef7d65c-9023-4da3-b113-3b8583fd7951\",\n      \"created\": \"2024-01-15T10:30:00Z\",\n      \"last_four\": \"4242\",\n      \"hostname\": \"netflix.com\",\n      \"memo\": \"Netflix subscription\",\n      \"type\": \"MERCHANT_LOCKED\",\n      \"spend_limit\": 2000,\n      \"spend_limit_duration\": \"MONTHLY\",\n      \"state\": \"OPEN\",\n      \"funding\": {\n        \"token\": \"...\",\n        \"type\": \"DEPOSITORY_CHECKING\",\n        \"state\": \"ENABLED\",\n        \"last_four\": \"1234\"\n      },\n      \"auth_rule_tokens\": []\n    }\n  ],\n  \"has_more\": false\n}\n```\n\n**Card `state` values:** `OPEN`, `PAUSED`, `CLOSED`\n**Card `type` values:** `SINGLE_USE`, `MERCHANT_LOCKED`, `UNLOCKED`, `PHYSICAL`\n\n---\n\n### `GET /cards/:token`\nGet a single card by its UUID token. Same field allowlist as list route.\n\n**Example:** `GET /cards/7ef7d65c-9023-4da3-b113-3b8583fd7951`\n\n---\n\n### `GET /transactions`\nList transactions. No PAN or sensitive card data is exposed.\n\n**Query parameters:**\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| `page_size` | integer (1–1000) | Number of results per page |\n| `starting_after` | UUID v4 | Cursor for pagination (token of last transaction seen) |\n| `begin` | date (`YYYY-MM-DD`) | Filter transactions on or after this date |\n| `end` | date (`YYYY-MM-DD`) | Filter transactions on or before this date |\n| `card_token` | UUID v4 | Filter by card |\n| `account_token` | UUID v4 | Filter by account |\n| `result` | `APPROVED` or `DECLINED` | Filter by authorization result |\n\n**Response:**\n```json\n{\n  \"data\": [\n    {\n      \"token\": \"764fa5a3-2371-40f0-8cbb-9a2e1230d955\",\n      \"created\": \"2024-01-15T10:30:00Z\",\n      \"card_token\": \"7ef7d65c-9023-4da3-b113-3b8583fd7951\",\n      \"amount\": 1999,\n      \"authorization_amount\": 1999,\n      \"settled_amount\": 1999,\n      \"merchant_amount\": 1999,\n      \"merchant_currency\": \"USD\",\n      \"result\": \"APPROVED\",\n      \"status\": \"SETTLED\",\n      \"authorization_code\": \"ABC123\",\n      \"merchant\": {\n        \"descriptor\": \"NETFLIX.COM\",\n        \"city\": \"Los Gatos\",\n        \"state\": \"CA\",\n        \"country\": \"USA\",\n        \"mcc\": \"7841\",\n        \"acceptor_id\": \"123456789\"\n      },\n      \"events\": [\n        {\n          \"token\": \"...\",\n          \"amount\": 1999,\n          \"result\": \"APPROVED\",\n          \"type\": \"AUTHORIZATION\",\n          \"created\": \"2024-01-15T10:30:00Z\"\n        }\n      ],\n      \"funding\": [\n        { \"token\": \"...\", \"amount\": 1999, \"type\": \"DEPOSITORY_CHECKING\" }\n      ]\n    }\n  ],\n  \"has_more\": false\n}\n```\n\n**Transaction `status` values:** `PENDING`, `VOIDED`, `SETTLING`, `SETTLED`, `BOUNCED`\n**Transaction `result` values:** `APPROVED`, `DECLINED`\n\n**Amounts** are in cents (integer). `1999` = $19.99 USD.\n\n---\n\n### `GET /transactions/:token`\nGet a single transaction by UUID. **Disabled by default** — returns `501` unless the worker is configured with `ENABLE_TRANSACTION_TOKEN_ROUTE=true`.\n\n---\n\n## Pagination\n\nAll list routes use cursor-based pagination:\n\n1. Fetch first page: `GET /cards?page_size=50`\n2. If `has_more` is `true`, fetch next page using the `token` of the last item:\n   `GET /cards?page_size=50&starting_after=<last-token>`\n3. Repeat until `has_more` is `false`\n\n---\n\n## Error Responses\n\nAll errors return JSON in this shape:\n\n```json\n{ \"error\": { \"code\": \"unauthorized\", \"message\": \"Missing or invalid bearer token.\" } }\n```\n\n| Status | Code | Meaning |\n|--------|------|---------|\n| 400 | `bad_request` | Invalid query parameter or malformed token |\n| 401 | `unauthorized` | Missing or invalid bearer token |\n| 404 | `not_found` | Route not found |\n| 405 | `method_not_allowed` | Wrong HTTP method |\n| 500 | `misconfigured_worker` | Worker secrets not configured |\n| 501 | `not_implemented` | Route disabled |\n| 502/504 | `upstream_error` | Privacy.com API unreachable or timed out |\n\n---\n\n## Notes for Agents\n\n- All amounts are **integers in cents**. Divide by 100 for display.\n- `token` fields are UUID v4 strings — use them as stable identifiers.\n- Cards with `state: \"PAUSED\"` or `state: \"CLOSED\"` cannot be charged.\n- `spend_limit: 0` means no limit.\n- `spend_limit_duration` values: `TRANSACTION`, `MONTHLY`, `ANNUALLY`, `FOREVER`\n- The proxy never exposes full card numbers, CVV, or expiry dates.\n";
